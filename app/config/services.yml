# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/service_container.html
parameters:
#    parameter_name: value

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    McShop\Core\:
        resource: '../../src/McShop/Core/*'
        # exclude directories || files (if service is unused, it will be removed anyway)
        exclude: '../../src/McShop/Core/{Controller, Form}'

    app.title:
        class: McShop\Core\Twig\Title
        public: true


    Gedmo\SoftDeleteable\SoftDeleteableListener:
        tags:
            - { name: 'doctrine.event_subscriber' }
        calls:
            - [ 'setAnnotationReader', [ '@annotation_reader' ] ]

    Gedmo\Timestampable\TimestampableListener:
        tags:
            - { name: doctrine.event_subscriber }
        calls:
            - [ 'setAnnotationReader', [ '@annotation_reader' ] ]

    Gedmo\Tree\TreeListener:
        tags:
            - { name: doctrine.event_subscriber }
        calls:
            - [ 'setAnnotationReader', [ '@annotation_reader' ] ]

    McShop\Core\Form\ConsoleTransformer\NumberTransformer:
        tags:
            - { name: form_to_question_transformer, form_type: Symfony\Component\Form\Extension\Core\Type\NumberType }

    mc_shop.access.decision_manager: '@security.access.decision_manager'
